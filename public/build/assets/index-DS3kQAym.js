import{r as x,u as y,j as e,H as f,b as p}from"./app-CqDem4Iv.js";import{z as j,A as N,M as w}from"./app-layout-CO-j32QL.js";import{P as v}from"./plus-Coip93EL.js";import{P as z,T as S}from"./trash-2-DD657aPo.js";/* empty css            */import"./button-D25-2m8W.js";import"./index-B3PMF5vv.js";import"./index-D3xMyuYw.js";import"./index-DQS2yhzL.js";import"./x-skuTRX_H.js";import"./createLucideIcon-nI3AvfOo.js";import"./floating-ui.react-dom-BcAq-xRk.js";function H({subLokasi:r,lokasiList:m,filters:l,flash:i}){const[s,n]=x.useState(null),[o,d]=x.useState(!1),t=y({lokasi_id:"",nama:"",kode:"",lantai:"",keterangan:""});x.useEffect(()=>{i?.message&&(j.success(i.message),t.reset(),n(null),d(!1))},[i?.message]);const h=a=>{a.preventDefault(),s?t.put(`/sub-lokasi/${s.id}`):t.post("/sub-lokasi")},b=a=>{t.setData({lokasi_id:a.lokasi.id.toString(),nama:a.nama,kode:a.kode||"",lantai:a.lantai||"",keterangan:a.keterangan||""}),n(a),d(!0)},k=a=>{confirm("Yakin ingin menghapus sub-lokasi ini?")&&t.delete(`/sub-lokasi/${a}`)},u=()=>{t.reset(),n(null),d(!1)},g=(a,c)=>{p.get(route("sub-lokasi.index"),{...l,[a]:c},{preserveState:!0,replace:!0})};return e.jsx(N,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 dark:bg-zinc-950",children:[e.jsx(f,{title:"Sub-Lokasi"}),e.jsxs("div",{className:"mx-auto max-w-6xl space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Sub-Lokasi"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Kelola lokasi spesifik seperti ruangan, lantai, atau unit"})]}),e.jsxs("button",{onClick:()=>o?u():d(!0),className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2.5 text-sm font-medium text-white shadow-sm transition hover:bg-blue-700",children:[e.jsx(v,{size:18}),o?"Tutup":"Tambah Sub-Lokasi"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("input",{type:"text",placeholder:"Cari nama, kode...",defaultValue:l.search,onChange:a=>g("search",a.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm shadow-sm focus:ring-2 focus:ring-blue-500 sm:w-64 dark:border-zinc-600 dark:bg-zinc-800 dark:text-white"}),e.jsxs("select",{value:l.lokasi_id||"",onChange:a=>g("lokasi_id",a.target.value),className:"rounded-lg border border-gray-300 px-3 py-2 text-sm shadow-sm dark:border-zinc-600 dark:bg-zinc-800 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Lokasi"}),m.map(a=>e.jsx("option",{value:a.id,children:a.nama},a.id))]})]}),o&&e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm dark:border-zinc-700 dark:bg-zinc-900",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold dark:text-white",children:s?"Edit Sub-Lokasi":"Tambah Sub-Lokasi Baru"}),e.jsxs("form",{onSubmit:h,className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Lokasi *"}),e.jsxs("select",{value:t.data.lokasi_id,onChange:a=>t.setData("lokasi_id",a.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 dark:border-zinc-600 dark:bg-zinc-800 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Pilih Lokasi"}),m.map(a=>e.jsx("option",{value:a.id,children:a.nama},a.id))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nama Sub-Lokasi *"}),e.jsx("input",{type:"text",value:t.data.nama,onChange:a=>t.setData("nama",a.target.value),placeholder:"Contoh: Pendaftaran, Poli A",className:"w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 dark:border-zinc-600 dark:bg-zinc-800 dark:text-white",required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kode"}),e.jsx("input",{type:"text",value:t.data.kode,onChange:a=>t.setData("kode",a.target.value),placeholder:"Contoh: REG, POLI-A",className:"w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 dark:border-zinc-600 dark:bg-zinc-800 dark:text-white"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Lantai"}),e.jsx("input",{type:"text",value:t.data.lantai,onChange:a=>t.setData("lantai",a.target.value),placeholder:"Contoh: 1, 2, B1",className:"w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 dark:border-zinc-600 dark:bg-zinc-800 dark:text-white"})]}),e.jsxs("div",{className:"space-y-1 sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Keterangan"}),e.jsx("input",{type:"text",value:t.data.keterangan,onChange:a=>t.setData("keterangan",a.target.value),placeholder:"Keterangan tambahan...",className:"w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 dark:border-zinc-600 dark:bg-zinc-800 dark:text-white"})]}),e.jsxs("div",{className:"flex gap-3 sm:col-span-2 lg:col-span-3",children:[e.jsx("button",{type:"submit",disabled:t.processing,className:"rounded-lg bg-emerald-600 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-700 disabled:opacity-50",children:s?"Update":"Simpan"}),e.jsx("button",{type:"button",onClick:u,className:"rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-zinc-600 dark:bg-zinc-800 dark:text-gray-300",children:"Batal"})]})]})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm dark:border-zinc-700 dark:bg-zinc-900",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-zinc-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-zinc-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Lokasi"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Sub-Lokasi"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Kode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Lantai"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-zinc-700",children:r.data.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(w,{className:"mx-auto mb-2 h-8 w-8 text-gray-300"}),'Belum ada sub-lokasi. Klik "Tambah Sub-Lokasi" untuk membuat.']})}):r.data.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-zinc-800/50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:a.lokasi?.nama}),e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white",children:a.nama}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400",children:a.kode||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400",children:a.lantai||"-"}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>b(a),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400",children:e.jsx(z,{size:16})}),e.jsx("button",{onClick:()=>k(a.id),className:"text-red-600 hover:text-red-800 dark:text-red-400",children:e.jsx(S,{size:16})})]})})]},a.id))})]})}),r.links&&r.links.length>3&&e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:r.links.map((a,c)=>e.jsx("button",{onClick:()=>a.url&&p.get(a.url),disabled:!a.url,className:`rounded-md px-3 py-1.5 text-sm font-medium ${a.active?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-zinc-800 dark:text-gray-300"} ${a.url?"":"cursor-not-allowed opacity-50"}`,dangerouslySetInnerHTML:{__html:a.label}},c))})]})]})})}export{H as default};
