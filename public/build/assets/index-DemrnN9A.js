import{r as x,j as e,H as j,b as o}from"./app-B0SzeqCG.js";import{A as N,P as g,M as v}from"./app-layout-BnD_lHqo.js";import{c as f}from"./createLucideIcon-DF5AlWng.js";import{S as w}from"./search-BJPjGiVB.js";import{W as _,T as z}from"./wrench-CA3U2Y30.js";/* empty css            */import"./button-CWmUjKFj.js";import"./index-BAI3dK1t.js";import"./index-DjSeiq0_.js";import"./index-wkndwqac.js";import"./x-Ce74WkcZ.js";import"./floating-ui.react-dom-Cbmwftv2.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],C=f("Filter",S);function E({barang:t,lokasiList:u,subLokasiList:i,kategoriList:p,filters:h,stats:s}){const[r,c]=x.useState(h),[k,m]=x.useState(i);x.useEffect(()=>{r.lokasi_id?m(i.filter(a=>a.lokasi_id===parseInt(r.lokasi_id))):m(i)},[r.lokasi_id,i]);const d=(a,l)=>{const n={...r,[a]:l};a==="lokasi_id"&&(n.sub_lokasi_id=""),c(n),o.get(route("monitoring.index"),n,{preserveState:!0,replace:!0})},b=()=>{const a={lokasi_id:"",sub_lokasi_id:"",status:"",kategori_id:"",search:""};c(a),o.get(route("monitoring.index"),a,{preserveState:!0,replace:!0})},y=a=>{switch(a){case"baik":return e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[e.jsx(g,{size:12})," Baik"]});case"rusak":return e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-700 dark:bg-red-900/30 dark:text-red-400",children:[e.jsx(z,{size:12})," Rusak"]});case"diperbaiki":return e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",children:[e.jsx(_,{size:12})," Diperbaiki"]});default:return e.jsx("span",{className:"text-xs text-gray-500",children:a})}};return e.jsxs(N,{children:[e.jsx(j,{title:"Monitoring Barang"}),e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 dark:bg-zinc-950",children:e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Monitoring Barang"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Pantau lokasi dan kondisi setiap unit barang"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-5",children:[e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm dark:border-zinc-700 dark:bg-zinc-900",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.total}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Unit"})]}),e.jsxs("div",{className:"rounded-xl border border-green-200 bg-green-50 p-4 shadow-sm dark:border-green-900/50 dark:bg-green-900/20",children:[e.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:s.baik}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-500",children:"Kondisi Baik"})]}),e.jsxs("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 shadow-sm dark:border-red-900/50 dark:bg-red-900/20",children:[e.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:s.rusak}),e.jsx("div",{className:"text-sm text-red-600 dark:text-red-500",children:"Rusak"})]}),e.jsxs("div",{className:"rounded-xl border border-yellow-200 bg-yellow-50 p-4 shadow-sm dark:border-yellow-900/50 dark:bg-yellow-900/20",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-700 dark:text-yellow-400",children:s.diperbaiki}),e.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-500",children:"Dalam Perbaikan"})]}),e.jsxs("div",{className:"rounded-xl border border-blue-200 bg-blue-50 p-4 shadow-sm dark:border-blue-900/50 dark:bg-blue-900/20",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:s.terdistribusi}),e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-500",children:"Terdistribusi"})]})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm dark:border-zinc-700 dark:bg-zinc-900",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(C,{size:16}),"Filter"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari serial, PIC...",value:r.search||"",onChange:a=>d("search",a.target.value),className:"w-full rounded-lg border border-gray-300 py-2 pr-3 pl-9 text-sm shadow-sm focus:ring-2 focus:ring-blue-500 dark:border-zinc-600 dark:bg-zinc-800 dark:text-white"})]}),e.jsxs("select",{value:r.lokasi_id||"",onChange:a=>d("lokasi_id",a.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm shadow-sm dark:border-zinc-600 dark:bg-zinc-800 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Lokasi"}),u.map(a=>e.jsx("option",{value:a.id,children:a.nama},a.id))]}),e.jsxs("select",{value:r.sub_lokasi_id||"",onChange:a=>d("sub_lokasi_id",a.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm shadow-sm dark:border-zinc-600 dark:bg-zinc-800 dark:text-white",disabled:!r.lokasi_id,children:[e.jsx("option",{value:"",children:"Semua Sub-Lokasi"}),k.map(a=>e.jsx("option",{value:a.id,children:a.nama},a.id))]}),e.jsxs("select",{value:r.status||"",onChange:a=>d("status",a.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm shadow-sm dark:border-zinc-600 dark:bg-zinc-800 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Kondisi"}),e.jsx("option",{value:"baik",children:"Baik"}),e.jsx("option",{value:"rusak",children:"Rusak"}),e.jsx("option",{value:"diperbaiki",children:"Dalam Perbaikan"})]}),e.jsxs("select",{value:r.kategori_id||"",onChange:a=>d("kategori_id",a.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm shadow-sm dark:border-zinc-600 dark:bg-zinc-800 dark:text-white",children:[e.jsx("option",{value:"",children:"Semua Kategori"}),p.map(a=>e.jsx("option",{value:a.id,children:a.nama},a.id))]})]}),(r.search||r.lokasi_id||r.sub_lokasi_id||r.status||r.kategori_id)&&e.jsx("button",{onClick:b,className:"mt-3 text-sm text-blue-600 hover:underline dark:text-blue-400",children:"Hapus semua filter"})]}),e.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm dark:border-zinc-700 dark:bg-zinc-900",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-zinc-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-zinc-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Serial Number"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Barang"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Lokasi"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Sub-Lokasi"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"PIC"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Kondisi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-zinc-700",children:t.data.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-4 py-12 text-center text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(g,{className:"mx-auto mb-3 h-12 w-12 text-gray-300 dark:text-gray-600"}),e.jsx("p",{className:"font-medium",children:"Tidak ada data"}),e.jsx("p",{className:"text-xs",children:"Coba ubah filter atau hapus pencarian"})]})}):t.data.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-zinc-800/50",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"font-mono text-sm font-medium text-gray-900 dark:text-white",children:a.serial_number})}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.model_barang?.nama||"-"}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.model_barang?.merek?.nama," â€¢ ",a.model_barang?.kategori?.nama]})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-900 dark:text-white",children:[e.jsx(v,{size:14,className:"text-gray-400"}),a.lokasi?.nama||e.jsx("span",{className:"text-gray-400",children:"Gudang"})]})}),e.jsx("td",{className:"px-4 py-3",children:a.sub_lokasi?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:a.sub_lokasi.nama}),a.sub_lokasi.lantai&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Lt. ",a.sub_lokasi.lantai]})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:a.pic||"-"})}),e.jsx("td",{className:"px-4 py-3",children:y(a.status)})]},a.id))})]})}),t.links&&t.links.length>3&&e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-t border-gray-200 bg-gray-50 px-4 py-3 dark:border-zinc-700 dark:bg-zinc-800",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Menampilkan ",t.data.length," dari ",t.total," unit"]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.links.map((a,l)=>e.jsx("button",{onClick:()=>a.url&&o.get(a.url),disabled:!a.url,className:`rounded-md px-3 py-1.5 text-sm font-medium ${a.active?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-zinc-700 dark:text-gray-300 dark:hover:bg-zinc-600"} ${a.url?"":"cursor-not-allowed opacity-50"}`,dangerouslySetInnerHTML:{__html:a.label}},l))})]})]})]})})]})}export{E as default};
