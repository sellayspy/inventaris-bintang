import{a as R,r,b as t,j as a,H as C}from"./app-B0SzeqCG.js";import{D as T}from"./data-table-CXT7Fsk5.js";import{a as m,z as N,A as I}from"./app-layout-BnD_lHqo.js";import{d as K}from"./index-B3-rv-gc.js";import{P as L,T as B}from"./trash-2-dNStamk0.js";/* empty css            */import"./button-CWmUjKFj.js";import"./search-BJPjGiVB.js";import"./createLucideIcon-DF5AlWng.js";import"./plus-DrjVaY47.js";import"./index-BAI3dK1t.js";import"./index-DjSeiq0_.js";import"./index-wkndwqac.js";import"./x-Ce74WkcZ.js";import"./floating-ui.react-dom-Cbmwftv2.js";function Z({barangList:x,filters:o,filterOptions:n,auth:v}){const{flash:i}=R().props,[h,b]=r.useState(o.search||""),[l,p]=r.useState(o.kategori||""),[d,k]=r.useState(o.lokasi||""),[c,f]=r.useState(o.status||""),u=v.permissions||[],S=u.includes(m.DELETE_BARANG_INVENTARIS),y=u.includes(m.EDIT_BARANG_INVENTARIS),w=u.includes(m.CREATE_BARANG_INVENTARIS);r.useEffect(()=>{i?.message&&N.success(i.message)},[i?.message]);const j=r.useCallback(K(e=>{t.get(route("barang.index"),e,{preserveState:!0,preserveScroll:!0,replace:!0})},400),[]),_=e=>{b(e),j({search:e,kategori:l,lokasi:d,status:c})},g=(e,s)=>{e==="kategori"&&p(s),e==="lokasi"&&k(s),e==="status"&&f(s),j({search:h,kategori:e==="kategori"?s:l,lokasi:e==="lokasi"?s:d,status:e==="status"?s:c})},z=()=>{b(""),p(""),k(""),f(""),t.get(route("barang.index"),{},{preserveState:!1})},E=e=>{confirm("Apakah Anda yakin ingin menghapus barang ini?")&&t.delete(route("barang.destroy",e),{preserveScroll:!0,onSuccess:()=>N.success("Barang berhasil dihapus")})},A=[{header:"Serial Number",accessorKey:"serial_number"},{header:"Merek / Model",accessorKey:"merek_model"},{header:"Kategori",accessorKey:"kategori"},{header:"Lokasi / Rak",accessorKey:"nama_rak",cell:e=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:e.nama_rak}),a.jsx("span",{className:"text-xs text-slate-500",children:e.kode_rak})]})},{header:"Status",accessorKey:"status_awal",cell:e=>a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${e.status_awal==="Tersedia"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":e.status_awal==="Rusak"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-zinc-800 dark:text-gray-300"}`,children:e.status_awal})}];return a.jsx(I,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 dark:bg-zinc-950",children:[a.jsx(C,{title:"Daftar Barang"}),a.jsxs("div",{className:"mx-auto max-w-7xl space-y-6",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Daftar Barang"}),a.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Kelola seluruh inventaris barang."})]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("select",{value:l,onChange:e=>g("kategori",e.target.value),className:"rounded-md border-gray-200 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-zinc-700 dark:bg-zinc-800 dark:text-white",children:[a.jsx("option",{value:"",children:"Semua Kategori"}),n.kategoriList.map(e=>a.jsx("option",{value:e,children:e},e))]}),a.jsxs("select",{value:d,onChange:e=>g("lokasi",e.target.value),className:"rounded-md border-gray-200 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-zinc-700 dark:bg-zinc-800 dark:text-white",children:[a.jsx("option",{value:"",children:"Semua Lokasi"}),n.lokasiList.map(e=>a.jsx("option",{value:e,children:e},e))]}),a.jsxs("select",{value:c,onChange:e=>g("status",e.target.value),className:"rounded-md border-gray-200 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-zinc-700 dark:bg-zinc-800 dark:text-white",children:[a.jsx("option",{value:"",children:"Semua Status"}),n.statusList.map(e=>a.jsx("option",{value:e,children:e},e))]}),a.jsx("button",{onClick:z,className:"rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none dark:border-zinc-700 dark:bg-zinc-800 dark:text-gray-300 dark:hover:bg-zinc-700",children:"Reset Filter"})]}),a.jsx(T,{data:x.data,columns:A,links:x.links,searchPlaceholder:"Cari serial number, merek, model...",onSearch:_,initialSearch:h,onCreate:w?()=>t.get(route("barang.create")):void 0,createLabel:"Tambah Barang",actionWidth:"w-[100px]",actions:e=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[y&&a.jsx("button",{onClick:()=>t.get(route("barang.edit",e.id)),className:"group hover:bg-opacity-100 rounded-full p-2 text-blue-600 transition-all hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20",title:"Edit",children:a.jsx(L,{size:16})}),S&&a.jsx("button",{onClick:()=>E(e.id),className:"group hover:bg-opacity-100 rounded-full p-2 text-red-600 transition-all hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",title:"Hapus",children:a.jsx(B,{size:16})})]})})]})]})})}export{Z as default};
