import{a as $,r as c,u as I,j as e,L as j,b as x}from"./app-CqDem4Iv.js";import{a as v,A as D,f as O}from"./app-layout-CO-j32QL.js";import L from"./barang-masuk-detail-BTYhmxfj.js";import{P}from"./plus-Coip93EL.js";import{c as d}from"./createLucideIcon-nI3AvfOo.js";import{S as H}from"./search-BuL9MSaw.js";import{E as R}from"./eye-CTdvgAF3.js";import{i}from"./menu-CtRJFIpQ.js";/* empty css            */import"./button-D25-2m8W.js";import"./index-B3PMF5vv.js";import"./index-D3xMyuYw.js";import"./index-DQS2yhzL.js";import"./x-skuTRX_H.js";import"./floating-ui.react-dom-BcAq-xRk.js";import"./use-server-handoff-complete-B2Ux15DJ.js";import"./with-selector-CYxiJbFd.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],U=d("ChevronUp",z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],K=d("EllipsisVertical",V);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],q=d("FolderOpen",G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Q=d("Pencil",J);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],X=d("Trash",W);function Y(g,l){let r;return function(...u){clearTimeout(r),r=setTimeout(()=>g(...u),l)}}function he(){const{auth:g,filters:l,barangMasuk:r,kategoriOptions:u,asalOptions:k,merekOptions:N}=$().props,m=r.data||r,h=r.links||[],b=g.permissions||[],[w,y]=c.useState(!1),[_,M]=c.useState(null),[p,S]=c.useState(!1),{data:s,setData:n,reset:C}=I({tanggal:l?.tanggal||"",kategori_id:l?.kategori_id||"",asal_barang_id:l?.asal_barang_id||"",merek:l?.merek||"",search:l?.search||"",sort_by:l?.sort_by||"desc",per_page:l?.per_page||10,page:l?.page||1}),A=a=>{fetch(route("barang-masuk.show",a.id),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(t=>{if(!t.ok)throw new Error("Network response was not ok "+t.statusText);return t.json()}).then(t=>{M(t.barangMasuk),y(!0)}).catch(t=>{console.error("Gagal mengambil data detail:",t)})},f=c.useCallback(()=>{Y(()=>{x.get(route("barang-masuk.index"),s,{preserveState:!0,preserveScroll:!0})},400)()},[s]);c.useEffect(()=>{f()},[s.tanggal,s.kategori_id,s.asal_barang_id,s.merek,s.search,s.sort_by,s.per_page,f]);const T=b.includes(v.CREATE_BARANG_MASUK),B=b.includes(v.EDIT_BARANG_MASUK);return e.jsxs(D,{children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4 flex flex-col justify-between gap-3 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Barang Masuk"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Daftar barang masuk inventory"})]}),T&&e.jsxs(j,{href:"/barang-masuk/create",className:"flex items-center gap-1 rounded bg-green-600 px-3 py-1.5 text-xs text-white hover:bg-green-700",children:[e.jsx(P,{className:"h-4 w-4"}),"Tambah Barang Masuk"]})]}),e.jsxs("div",{className:"mb-6 rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-100",children:[e.jsxs("div",{className:"mb-4 flex flex-col justify-between gap-4 sm:flex-row sm:items-center sm:gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between sm:justify-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Filters"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Filter data inventaris yang masuk"})]}),e.jsx("button",{onClick:()=>S(!p),className:"ml-4 flex items-center gap-1 rounded-md px-3 py-1 text-sm font-medium text-blue-600 hover:bg-blue-50 sm:ml-6",children:p?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Sembunyikan"}),e.jsx(U,{className:"h-4 w-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Filter Lanjutan"}),e.jsx(O,{className:"h-4 w-4"})]})})]}),e.jsxs("div",{className:"relative w-full sm:max-w-md",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(H,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",value:s.search,onChange:a=>n("search",a.target.value),className:"block w-full rounded-lg border-0 bg-gray-50 py-2 pr-3 pl-9 text-sm text-gray-900 shadow-sm ring-1 ring-gray-300 ring-inset placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:ring-inset",placeholder:"Cari berdasarkan serial, brand, model..."})]})]}),p&&e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-700",children:"Date"}),e.jsx("input",{type:"date",value:s.tanggal,onChange:a=>n("tanggal",a.target.value),className:"block w-full rounded-lg border-gray-300 bg-gray-50 py-2 pr-3 pl-2 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-700",children:"Tanggal"}),e.jsxs("select",{value:s.kategori_id,onChange:a=>n("kategori_id",a.target.value),className:"block w-full rounded-lg border-gray-300 bg-gray-50 py-2 pr-3 pl-2 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Semua Kategori"}),u.map(a=>e.jsx("option",{value:a.id,children:a.nama},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-700",children:"Asal Barang"}),e.jsxs("select",{value:s.asal_barang_id,onChange:a=>n("asal_barang_id",a.target.value),className:"block w-full rounded-lg border-gray-300 bg-gray-50 py-2 pr-3 pl-2 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Semua Asal-Barang"}),k.map(a=>e.jsx("option",{value:a.id,children:a.nama},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-700",children:"Merek"}),e.jsxs("select",{value:s.merek,onChange:a=>n("merek",a.target.value),className:"block w-full rounded-lg border-gray-300 bg-gray-50 py-2 pr-3 pl-2 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Semua Merek"}),N.map(a=>e.jsx("option",{value:a.nama,children:a.nama},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-700",children:"Urutkan"}),e.jsxs("select",{value:s.sort_by,onChange:a=>n("sort_by",a.target.value),className:"block w-full rounded-lg border-gray-300 bg-gray-50 py-2 pr-3 pl-2 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"desc",children:"Terbaru"}),e.jsx("option",{value:"asc",children:"Terlama"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-700",children:"Tampilkan:"}),e.jsxs("select",{value:s.per_page,onChange:a=>{n("per_page",a.target.value),n("page",1)},className:"block w-full rounded-lg border-gray-300 bg-gray-50 py-2 pr-3 pl-2 text-sm shadow-sm inset-ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"}),e.jsx("option",{value:"all",children:"All"})]})]}),e.jsx("div",{className:"flex items-end sm:col-span-2 lg:col-span-3",children:e.jsx("button",{type:"button",onClick:()=>{C({tanggal:"",kategori_id:"",asal_barang_id:"",merek:"",search:"",sort_by:"desc",per_page:10}),x.get(route("barang-masuk.index"))},className:"rounded-lg bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm ring-1 ring-gray-300 transition-colors ring-inset hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:"Reset Filter"})})]})]}),e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Merek & Model"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kategori"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Asal Barang"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:m.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-4 text-center text-sm text-gray-500",children:e.jsxs("div",{className:"py-6",children:[e.jsx(q,{className:"mx-auto h-10 w-10 text-gray-400"}),e.jsx("p",{className:"mt-2",children:"Tidak ada data barang masuk"})]})})}):m.map((a,t)=>{const E=r.from?r.from+t:t+1,F=m.length-t<=3;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 font-medium whitespace-nowrap text-gray-900",children:E}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:a.tanggal}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:`${a.merek||""} ${a.model||""}`.trim()||"-"}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:a.kategori||"-"}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:a.asal_barang||"-"}),e.jsx("td",{className:"px-4 py-3 text-center whitespace-nowrap",children:e.jsxs(i,{as:"div",className:"relative inline-block text-center",children:[e.jsxs(i.Button,{className:"inline-flex items-center justify-center rounded-md p-2 text-gray-500 hover:bg-gray-100 focus:ring-2 focus:ring-indigo-500 focus:outline-none",children:["Selengkapnya ",e.jsx(K,{className:"h-5 w-5","aria-hidden":"true"})]}),e.jsx(i.Items,{className:`ring-opacity-5 absolute right-0 z-10 mt-2 w-48 rounded-md bg-white shadow-lg ring-1 ring-black focus:outline-none ${F?"bottom-full origin-bottom-right":"origin-top-right"} `,children:e.jsxs("div",{className:"py-1",children:[e.jsx(i.Item,{children:({active:o})=>e.jsxs("button",{onClick:()=>A(a),className:`${o?"bg-gray-100":""} flex w-full items-center gap-3 px-4 py-2 text-sm text-gray-700`,children:[e.jsx(R,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{children:"Lihat Detail"})]})}),B&&e.jsx(i.Item,{children:({active:o})=>e.jsxs(j,{href:route("barang-masuk.edit",{barang_masuk:a.id}),className:`${o?"bg-gray-100":""} flex w-full items-center gap-3 px-4 py-2 text-sm text-gray-700`,children:[e.jsx(Q,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{children:"Edit Data"})]})}),e.jsx(i.Item,{children:({active:o})=>e.jsxs("button",{onClick:()=>{confirm("Apakah Anda yakin ingin menghapus data ini?")&&x.delete(route("barang-masuk.destroy",a.id))},className:`${o?"bg-gray-100":""} flex w-full items-center gap-3 px-4 py-2 text-sm text-red-500`,children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Hapus Data"})]})})]})})]})})]},`${a.id}`)})})]})})}),h.length>0&&r.total>m.length&&e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Menampilkan ",r.from," sampai ",r.to," dari ",r.total," data"]}),e.jsx("div",{children:e.jsx("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:h.map((a,t)=>e.jsx("button",{disabled:!a.url,onClick:()=>a.url&&x.get(a.url,{},{preserveState:!0,preserveScroll:!0}),className:`relative inline-flex items-center px-4 py-2 text-sm font-medium ${a.active?"z-10 bg-blue-600 text-white focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600":"text-gray-900 ring-1 ring-gray-300 ring-inset hover:bg-gray-50 focus:outline-offset-0"} ${t===0?"rounded-l-md":""} ${t===r.links.length-1?"rounded-r-md":""}`,dangerouslySetInnerHTML:{__html:a.label}},t))})})]})]}),e.jsx(L,{show:w,onClose:()=>y(!1),barang:_})]})}export{he as default};
