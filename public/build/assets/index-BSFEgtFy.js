import{u as y,r as j,j as e,H as b,b as o}from"./app-B0SzeqCG.js";import{D as N,F as w,P as f,a as v,p as c}from"./pickBy-BcY-Nrrq.js";import{A as k,F as _}from"./app-layout-BnD_lHqo.js";/* empty css            */import"./createLucideIcon-DF5AlWng.js";import"./button-CWmUjKFj.js";import"./index-BAI3dK1t.js";import"./index-DjSeiq0_.js";import"./index-wkndwqac.js";import"./x-Ce74WkcZ.js";import"./floating-ui.react-dom-Cbmwftv2.js";function H({auth:F,barangMasukData:a,filters:l}){const{data:s,setData:d,get:C,reset:m}=y({start_date:l.start_date||"",end_date:l.end_date||"",search:l.search||""}),[n,p]=j.useState(!1),h=t=>{t.preventDefault(),o.get(route("laporan.masuk"),c(s),{preserveState:!0,replace:!0})},g=()=>{m(),o.get(route("laporan.masuk"))},x=(t="excel")=>{const r=t==="pdf"?"laporan.masuk.pdf":"laporan.masuk.export",i=c(s);return Object.keys(i).length===0?route(r):`${route(r)}?${new URLSearchParams(i).toString()}`},u=()=>p(!n);return e.jsxs(k,{children:[e.jsx(b,{title:"Laporan Barang Masuk"}),e.jsx("div",{className:"px-4 py-8 md:px-6 lg:px-8",children:e.jsxs("div",{className:"mx-auto max-w-7xl",children:[e.jsx("h1",{className:"mb-6 text-2xl font-bold text-gray-800",children:"Laporan Barang Masuk"}),e.jsxs("form",{onSubmit:h,className:"mb-6 flex flex-wrap items-end gap-4 rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"start_date",className:"mb-1 block text-sm text-gray-600",children:"Dari Tanggal"}),e.jsx("input",{type:"date",id:"start_date",name:"start_date",value:s.start_date,onChange:t=>d("start_date",t.target.value),className:"w-full rounded border border-gray-300 p-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"end_date",className:"mb-1 block text-sm text-gray-600",children:"Sampai Tanggal"}),e.jsx("input",{type:"date",id:"end_date",name:"end_date",value:s.end_date,onChange:t=>d("end_date",t.target.value),className:"w-full rounded border border-gray-300 p-2 text-sm"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"search",className:"mb-1 block text-sm text-gray-600",children:"Cari (SN, Model, Merek, Lokasi)"}),e.jsx("input",{type:"text",id:"search",name:"search",placeholder:"Cari...",value:s.search,onChange:t=>d("search",t.target.value),className:"w-full rounded border border-gray-300 p-2 text-sm"})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("button",{type:"submit",className:"w-full rounded bg-blue-600 px-3 py-2 text-sm text-white transition-colors hover:bg-blue-700",children:"Filter"}),e.jsx("button",{type:"button",onClick:g,className:"w-full rounded bg-gray-200 px-3 py-2 text-sm text-gray-700 transition-colors hover:bg-gray-300",children:"Reset"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",onClick:u,className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium shadow-sm hover:bg-gray-50",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Export",e.jsx("svg",{className:"ml-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"})})]}),n&&e.jsx("div",{className:"ring-opacity-5 absolute right-0 z-10 mt-2 w-40 rounded-md bg-white shadow-lg ring-1 ring-black",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("a",{href:x(),target:"_blank",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(w,{className:"mr-2 h-4 w-4 text-green-600"}),"Excel"]}),e.jsxs("a",{href:x("pdf"),target:"_blank",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(_,{className:"mr-2 h-4 w-4 text-red-600"}),"PDF"]}),e.jsxs("button",{type:"button",onClick:()=>window.print(),className:"flex w-full items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(f,{className:"mr-2 h-4 w-4 text-gray-600"}),"Cetak"]})]})})]})]})]}),e.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow-sm",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Info Barang"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Asal Barang"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Penerima"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:a.data.length>0?a.data.map((t,r)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:(a.current_page-1)*a.per_page+(r+1)}),e.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:t.tanggal}),e.jsxs("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:t.serial_number||"N/A"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.model," / ",t.merek," / ",t.kategori]})]}),e.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:t.asal_barang}),e.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:t.nama_user})]},t.transaksi_id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-500",children:"Tidak ada data."})})})]})}),a.data.length>0&&e.jsx("div",{className:"border-t p-4",children:e.jsx(v,{links:a.links})})]})]})})]})}export{H as default};
