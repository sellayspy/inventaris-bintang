import{j as e,b as r}from"./app-CqDem4Iv.js";import{a as i,A as x}from"./app-layout-CO-j32QL.js";/* empty css            */import"./button-D25-2m8W.js";import"./index-B3PMF5vv.js";import"./index-D3xMyuYw.js";import"./index-DQS2yhzL.js";import"./x-skuTRX_H.js";import"./createLucideIcon-nI3AvfOo.js";import"./floating-ui.react-dom-BcAq-xRk.js";const d=({status:a})=>{const t="px-2 py-1 text-xs font-bold rounded-full text-white";return a==="approved"?e.jsx("span",{className:`${t} bg-green-500`,children:"APPROVED"}):a==="pending"?e.jsx("span",{className:`${t} bg-yellow-500`,children:"PENDING"}):a==="rejected"?e.jsx("span",{className:`${t} bg-red-500`,children:"REJECTED"}):e.jsx("span",{className:`${t} bg-gray-500`,children:a})};function w({auth:a,daftarPemusnahan:t}){const n=(a.permissions||[]).includes(i.APPROVE_STOK_RUSAK),p=s=>{window.confirm("Anda yakin ingin menyetujui pengajuan pemusnahan ini? Stok akan diperbarui secara permanen.")&&r.post(route("stock.rusak.pemusnahan.approve",s),{},{preserveScroll:!0})};return e.jsx(x,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Daftar Pengajuan Pemusnahan"}),e.jsx("div",{className:"overflow-x-auto rounded-lg border bg-white shadow",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Kode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Tanggal"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Alasan"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Pengaju"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.data.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-4 text-sm font-medium whitespace-nowrap text-gray-900",children:s.kode_pemusnahaan}),e.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap text-gray-500",children:s.tanggal_pemusnahaan}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:s.alasan}),e.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap text-gray-500",children:s.user.name}),e.jsx("td",{className:"px-4 py-4 text-center text-sm whitespace-nowrap text-gray-500",children:e.jsx(d,{status:s.status})}),e.jsxs("td",{className:"px-4 py-4 text-center text-sm font-medium whitespace-nowrap",children:[n&&s.status==="pending"&&e.jsx("button",{onClick:()=>p(s.id),disabled:r.processing,className:"rounded bg-green-600 px-3 py-1 text-white hover:bg-green-700 disabled:opacity-50",children:"Approve"}),s.status==="approved"&&e.jsxs("span",{className:"text-xs text-gray-400",children:["Approved by ",s.approver?.name||"-"]})]})]},s.id))})]})})]})})}export{w as default};
