import{a as z,r as i,u as E,j as e,H as S,b as K}from"./app-CqDem4Iv.js";import{z as T,a as x,A as C}from"./app-layout-CO-j32QL.js";import{d as I}from"./index-CUfBkIjc.js";import{P as A,T as D}from"./trash-2-DD657aPo.js";/* empty css            */import"./button-D25-2m8W.js";import"./index-B3PMF5vv.js";import"./index-D3xMyuYw.js";import"./index-DQS2yhzL.js";import"./x-skuTRX_H.js";import"./createLucideIcon-nI3AvfOo.js";import"./floating-ui.react-dom-BcAq-xRk.js";const R=[{title:"Kategori",href:"/kategori"}];function Y({kategori:d,filters:u}){const{auth:p,flash:n}=z().props,[s,l]=i.useState(null),[c,r]=i.useState(!1),[h,b]=i.useState(u.search||""),o=p.permissions||[],a=E({nama:""});i.useEffect(()=>{n?.message&&(a.reset(),T.success(n.message))},[n?.message]);const y=t=>{t.preventDefault(),s?a.put(`/kategori/${s.id}`,{onSuccess:()=>{l(null),r(!1)}}):a.post("/kategori",{onSuccess:()=>r(!1)})},f=t=>{a.setData("nama",t.nama),l(t),r(!0)},j=t=>{confirm("Yakin ingin menghapus kategori ini?")&&a.delete(`/kategori/${t}`)},g=()=>{a.reset(),l(null),r(!1)},k=t=>{b(t),I(()=>{K.get(route("kategori.index"),{search:t},{preserveState:!0,replace:!0})},400)()},N=o.includes(x.CREATE_KATEGORI),v=o.includes(x.EDIT_KATEGORI),w=o.includes(x.DELETE_KATEGORI);return e.jsx(C,{breadcrumbs:R,children:e.jsxs("div",{className:"bg-gray-50 p-4 sm:p-6 dark:bg-zinc-950",children:[e.jsx(S,{title:"Kategori Barang"}),e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Kategori Barang"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"text",placeholder:"Cari kategori...",value:h,onChange:t=>k(t.target.value),className:"rounded-md border-gray-300 bg-white p-2 text-sm dark:border-zinc-700 dark:bg-zinc-800 dark:text-white"}),N&&e.jsx("button",{onClick:()=>c?g():r(!0),className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:c?"Tutup Form":" + Tambah Kategori"})]})]}),c&&e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 dark:border-zinc-800 dark:bg-zinc-900",children:[e.jsx("h2",{className:"mb-5 text-xl font-semibold dark:text-white",children:s?"Edit Kategori":"Tambah Kategori Baru"}),e.jsxs("form",{onSubmit:y,className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium dark:text-gray-200",children:"Nama Kategori"}),e.jsx("input",{type:"text",value:a.data.nama,onChange:t=>a.setData("nama",t.target.value),className:"w-full rounded-md border border-gray-300 p-2 dark:border-zinc-700 dark:bg-zinc-800 dark:text-white",required:!0}),a.errors.nama&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.errors.nama})]}),e.jsxs("div",{className:"flex gap-3 md:col-span-2",children:[e.jsx("button",{type:"submit",disabled:a.processing,className:"rounded-md bg-green-600 px-4 py-2 text-white hover:bg-green-700 disabled:opacity-50",children:s?"Update":"Simpan"}),e.jsx("button",{type:"button",onClick:g,className:"rounded-md bg-gray-500 px-4 py-2 text-white hover:bg-gray-600",children:"Batal"})]})]})]}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 bg-white dark:border-zinc-800 dark:bg-zinc-900",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-zinc-800",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-zinc-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"No"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Nama Kategori"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-zinc-700",children:d.data.map((t,m)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-zinc-800",children:[e.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:m+1}),e.jsx("td",{className:"px-6 py-4 text-sm",children:t.nama}),e.jsxs("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:[v&&e.jsx("button",{onClick:()=>f(t),className:"mr-3 text-blue-600 hover:text-blue-800 dark:text-blue-400",children:e.jsx(A,{size:18})}),w&&e.jsx("button",{onClick:()=>j(t.id),className:"text-red-600 hover:text-red-800 dark:text-red-400",children:e.jsx(D,{size:18})})]})]},t.id))})]})}),d.links&&e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:d.links.map((t,m)=>e.jsx("button",{onClick:()=>t.url&&a.get(t.url),className:`rounded px-3 py-1 text-sm ${t.active?"bg-blue-600 text-white":"bg-white text-blue-600 hover:bg-gray-100 dark:bg-zinc-800 dark:text-blue-400"}`,dangerouslySetInnerHTML:{__html:t.label},disabled:!t.url},m))})]})]})})}export{Y as default};
