import{a as _,r as t,b as x,j as r,L as K}from"./app-B0SzeqCG.js";import{A as P}from"./app-layout-BnD_lHqo.js";import{d as R}from"./index-B3-rv-gc.js";/* empty css            */import"./button-CWmUjKFj.js";import"./index-BAI3dK1t.js";import"./index-DjSeiq0_.js";import"./index-wkndwqac.js";import"./x-Ce74WkcZ.js";import"./createLucideIcon-DF5AlWng.js";import"./floating-ui.react-dom-Cbmwftv2.js";function T(){const{barangList:p,filters:s,filterOptions:i}=_().props,[u,h]=t.useState(s.search||""),[n,g]=t.useState(s.kategori||""),[o,m]=t.useState(s.lokasi||""),[d,k]=t.useState(s.status||""),[l,y]=t.useState(s.kondisi||""),j=t.useCallback(R(e=>{const a={search:e,kategori:n,lokasi:o,status:d,kondisi:l};x.get(route("barang.index"),a,{preserveState:!0,preserveScroll:!0})},400),[n,o,d,l]),v=e=>{const{value:a}=e.target;h(a),j(a)},c=(e,a)=>{const b={search:u,kategori:n,lokasi:o,status:d,kondisi:l,[e]:a};x.get(route("barang.index"),b,{preserveState:!0,preserveScroll:!0})},N=()=>{h(""),g(""),m(""),k(""),y(""),x.get(route("barang.index"),{},{preserveState:!1,preserveScroll:!0})},f=e=>{confirm("Apakah Anda yakin ingin menghapus barang ini?")&&x.delete(route("barang.destroy",e),{preserveScroll:!0})},S=()=>{const a=Object.fromEntries(Object.entries({search:u,kategori:n,lokasi:o,status:d,kondisi:l}).filter(([,C])=>C)),b=new URLSearchParams(a).toString(),L=`${route("total-stock.exportPdf")}?${b}`;window.open(L,"_blank")},w=e=>{switch(e?.toLowerCase()){case"baru":return"bg-green-100 text-green-800 font-semibold";case"second":return"bg-yellow-100 text-yellow-800 font-semibold";default:return""}},z=e=>{switch(e?.toLowerCase()){case"bagus":return"bg-green-100 text-green-800 font-semibold";case"rusak":return"bg-red-100 text-red-800 font-semibold";case"diperbaiki":return"bg-yellow-100 text-yellow-800 font-semibold";case"dipinjamkan":return"bg-blue-100 text-blue-800 font-semibold";case"dimusnahkan":return"bg-purple-100 text-purple-800 font-semibold";case"dijual":return"bg-orange-100 text-orange-800 font-semibold";case"menunggu":return"bg-gray-100 text-gray-800 font-semibold";default:return""}};return r.jsx(P,{children:r.jsxs("div",{className:"p-3",children:[r.jsx("h1",{className:"mb-3 text-lg font-semibold text-gray-900 dark:text-white",children:"Daftar Barang"}),r.jsxs("div",{className:"mb-3 flex flex-wrap gap-2",children:[r.jsx("input",{type:"text",placeholder:"Cari barang...",value:u,onChange:v,className:"w-40 rounded border px-2 py-1 text-sm dark:border-zinc-700 dark:bg-zinc-800 dark:text-white"}),r.jsxs("select",{value:n,onChange:e=>{g(e.target.value),c("kategori",e.target.value)},className:"rounded border px-2 py-1 text-sm dark:border-zinc-700 dark:bg-zinc-800 dark:text-white",children:[r.jsx("option",{value:"",children:"Semua Kategori"}),i.kategoriList.map(e=>r.jsx("option",{value:e,children:e},e))]}),r.jsxs("select",{value:o,onChange:e=>{m(e.target.value),c("lokasi",e.target.value)},className:"rounded border px-2 py-1 text-sm dark:border-zinc-700 dark:bg-zinc-800 dark:text-white",children:[r.jsx("option",{value:"",children:"Semua Lokasi"}),i.lokasiList.map(e=>r.jsx("option",{value:e,children:e},e))]}),r.jsxs("select",{value:d,onChange:e=>{k(e.target.value),c("status",e.target.value)},className:"rounded border px-2 py-1 text-sm dark:border-zinc-700 dark:bg-zinc-800 dark:text-white",children:[r.jsx("option",{value:"",children:"Semua Status"}),i.statusList.map(e=>r.jsx("option",{value:e,children:e},e))]}),r.jsxs("select",{value:l,onChange:e=>{y(e.target.value),c("kondisi",e.target.value)},className:"rounded border px-2 py-1 text-sm dark:border-zinc-700 dark:bg-zinc-800 dark:text-white",children:[r.jsx("option",{value:"",children:"Semua Kondisi"}),i.kondisiList.map(e=>r.jsx("option",{value:e,children:e},e))]}),r.jsx("button",{type:"button",onClick:N,className:"rounded bg-gray-200 px-3 py-1 text-sm hover:bg-gray-300 dark:bg-zinc-700 dark:text-white dark:hover:bg-zinc-600",children:"Reset"}),r.jsx("button",{type:"button",onClick:S,className:"rounded bg-red-500 px-3 py-1 text-sm text-white hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700",children:"Ekspor PDF"})]}),r.jsxs("table",{className:"min-w-full border text-sm",children:[r.jsx("thead",{className:"bg-gray-100 text-left dark:bg-zinc-800",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border px-2 py-1",children:"No"}),r.jsx("th",{className:"border px-3 py-1",children:"Serial Number"}),r.jsx("th",{className:"border px-3 py-1",children:"Nama"}),r.jsx("th",{className:"border px-3 py-1",children:"Merek + Model"}),r.jsx("th",{className:"border px-3 py-1",children:"Kategori"}),r.jsx("th",{className:"border px-3 py-1",children:"Rak"}),r.jsx("th",{className:"border px-2 py-1",children:"Kode Rak"}),r.jsx("th",{className:"border px-3 py-1",children:"Baris"}),r.jsx("th",{className:"border px-3 py-1",children:"Status"}),r.jsx("th",{className:"border px-3 py-1",children:"Kondisi"}),r.jsx("th",{className:"border px-3 py-1",children:"Lokasi"}),r.jsx("th",{className:"border px-3 py-1",children:"Aksi"})]})}),r.jsx("tbody",{children:p.data.map((e,a)=>r.jsxs("tr",{className:"dark:bg-zinc-900",children:[r.jsx("td",{className:"border px-2 py-1",children:a+1+p.from-1}),r.jsx("td",{className:"border px-3 py-1",children:e.serial_number}),r.jsx("td",{className:"border px-3 py-1",children:e.label}),r.jsx("td",{className:"border px-3 py-1",children:e.merek_model}),r.jsx("td",{className:"border px-3 py-1",children:e.kategori}),r.jsx("td",{className:"border px-3 py-1",children:e.nama_rak}),r.jsx("td",{className:"border px-2 py-1",children:e.kode_rak}),r.jsx("td",{className:"border px-3 py-1",children:e.baris}),r.jsx("td",{className:`border px-3 py-1 ${z(e.status_awal)}`,children:e.status_awal}),r.jsx("td",{className:`border px-3 py-1 ${w(e.kondisi)}`,children:e.kondisi}),r.jsx("td",{className:"border px-3 py-1",children:e.lokasi}),r.jsx("td",{className:"border px-3 py-1",children:r.jsx("button",{onClick:()=>f(e.id),className:"rounded bg-red-500 px-2 py-1 text-xs text-white hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700",children:"Hapus"})})]},e.id))})]}),r.jsx("div",{className:"mt-3 flex justify-center gap-1",children:p.links.map((e,a)=>r.jsx(K,{href:e.url??"#",className:`rounded border px-2 py-1 text-sm ${e.active?"bg-blue-500 text-white":"hover:bg-gray-100 dark:hover:bg-zinc-700"} ${e.url?"":"pointer-events-none text-gray-400 dark:text-gray-500"}`,dangerouslySetInnerHTML:{__html:e.label}},a))})]})})}export{T as default};
