import{j as e,b as i}from"./app-CqDem4Iv.js";import{A as o}from"./app-layout-CO-j32QL.js";/* empty css            */import"./button-D25-2m8W.js";import"./index-B3PMF5vv.js";import"./index-D3xMyuYw.js";import"./index-DQS2yhzL.js";import"./x-skuTRX_H.js";import"./createLucideIcon-nI3AvfOo.js";import"./floating-ui.react-dom-BcAq-xRk.js";function g({data:a}){const d=!!a.approved_at,n=s=>{try{const r=JSON.parse(s);return Array.isArray(r)?r:[]}catch{return[]}};return e.jsx(o,{children:e.jsxs("div",{className:"mx-auto max-w-6xl p-6",children:[e.jsx("h1",{className:"mb-4 text-3xl font-bold",children:"Review Stock Opname"}),e.jsxs("div",{className:"mb-6 space-y-2 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Tanggal:"})," ",a.tanggal]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Lokasi:"})," ",a.lokasi?.nama??"-"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Dibuat oleh:"})," ",a.user?.name??"-"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto border border-gray-300 shadow-sm",children:[e.jsx("thead",{className:"bg-gray-100 text-sm text-gray-700 uppercase",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-4 py-2 text-left",children:"Model"}),e.jsx("th",{className:"border px-4 py-2 text-center",children:"Jumlah Sistem"}),e.jsx("th",{className:"border px-4 py-2 text-center",children:"Jumlah Fisik"}),e.jsx("th",{className:"border px-4 py-2 text-center",children:"Selisih"}),e.jsx("th",{className:"border px-4 py-2",children:"Serial Hilang"}),e.jsx("th",{className:"border px-4 py-2",children:"Serial Baru"}),e.jsx("th",{className:"border px-4 py-2 text-left",children:"Catatan"})]})}),e.jsx("tbody",{className:"text-sm text-gray-800",children:a.details.map((s,r)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border px-4 py-2",children:s.model_barang?`${s.model_barang.kategori?.nama??"-"} - ${s.model_barang.merek?.nama??"-"} - ${s.model_barang.nama??"-"}`:"Model tidak ditemukan"}),e.jsx("td",{className:"border px-4 py-2 text-center",children:s.jumlah_sistem}),e.jsx("td",{className:"border px-4 py-2 text-center",children:s.jumlah_fisik}),e.jsx("td",{className:"border px-4 py-2 text-center",children:s.selisih}),e.jsx("td",{className:"border px-4 py-2 text-xs",children:n(s.serial_hilang).map((t,l)=>e.jsx("div",{className:"text-red-600",children:t},l))}),e.jsx("td",{className:"border px-4 py-2 text-xs",children:n(s.serial_baru).map((t,l)=>e.jsx("div",{className:"text-green-600",children:t},l))}),e.jsx("td",{className:"border px-4 py-2",children:s.catatan||"-"})]},r))})]})}),e.jsx("div",{className:"mt-6",children:d?e.jsxs("p",{className:"mt-4 font-semibold text-green-600",children:["âœ… Sudah di-approve pada: ",a.approved_at]}):e.jsx("button",{onClick:()=>{confirm("Yakin ingin approve stock opname ini?")&&i.post(`/stock-opname/${a.id}/approve`)},className:"rounded bg-blue-600 px-4 py-2 text-white shadow transition hover:bg-blue-700",children:"Approve"})})]})})}export{g as default};
