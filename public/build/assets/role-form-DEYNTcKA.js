import{a as y,u as k,j as e}from"./app-B0SzeqCG.js";import{A as f}from"./app-layout-BnD_lHqo.js";/* empty css            */import"./button-CWmUjKFj.js";import"./index-BAI3dK1t.js";import"./index-DjSeiq0_.js";import"./index-wkndwqac.js";import"./x-Ce74WkcZ.js";import"./createLucideIcon-DF5AlWng.js";import"./floating-ui.react-dom-Cbmwftv2.js";function R(){const{permissions:l,role:c,rolePermissions:g}=y().props,n=!!c,{data:a,setData:i,post:x,put:b,processing:m,errors:d}=k({name:c?.name||"",permissions:g||[]}),u=r=>{a.permissions.includes(r)?i("permissions",a.permissions.filter(t=>t!==r)):i("permissions",[...a.permissions,r])},p=(r,t)=>{const o=l[r].map(s=>s.name);t?i("permissions",[...new Set([...a.permissions,...o])]):i("permissions",a.permissions.filter(s=>!o.includes(s)))},h=r=>{r.preventDefault(),n?b(route("roles.update",c.id)):x(route("roles.store"))};return e.jsx(f,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:n?"Ubah Role":"Buat Role Baru"}),e.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:n?"Perbarui izin peran yang ada":"Tentukan peran baru dan tetapkan izin"})]}),e.jsx("form",{onSubmit:h,children:e.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("div",{className:"border-b border-gray-100 bg-gray-50 px-6 py-4 dark:border-gray-700 dark:bg-gray-700/50",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Informasi Peran"})}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nama Peran"}),e.jsx("input",{type:"text",value:a.name,onChange:r=>i("name",r.target.value),className:"block w-full rounded-lg border-gray-300 px-4 py-3 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"misalnya administrator, moderator"}),d.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:d.name})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Izin"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Pilih izin untuk peran ini"})]}),Object.keys(l).map(r=>{const t=l[r],o=t.every(s=>a.permissions.includes(s.name));return e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50/50 p-5 dark:border-gray-700 dark:bg-gray-700/30",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200",children:r}),e.jsxs("label",{className:"flex cursor-pointer items-center space-x-2",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",checked:o,onChange:s=>p(r,s.target.checked)}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Select All"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:t.map(s=>e.jsxs("label",{className:`flex items-center rounded-lg p-3 transition-all duration-200 ${a.permissions.includes(s.name)?"border-blue-200 bg-blue-50 dark:border-blue-700 dark:bg-blue-900/20":"border-gray-200 bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700"} border`,children:[e.jsx("input",{type:"checkbox",checked:a.permissions.includes(s.name),onChange:()=>u(s.name),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700"}),e.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:s.name})]},s.id))})]},r)}),d.permissions&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:d.permissions})]})]}),e.jsx("div",{className:"flex justify-end border-t border-gray-100 bg-gray-50 px-6 py-4 dark:border-gray-700 dark:bg-gray-700/50",children:e.jsx("button",{type:"submit",disabled:m,className:`inline-flex items-center rounded-md px-5 py-2.5 text-sm font-medium transition-colors ${m?"cursor-not-allowed bg-blue-400 text-white":"bg-blue-600 text-white shadow hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none dark:focus:ring-offset-gray-800"}`,children:m?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):n?"Ubah Peran":"Tambah Peran"})})]})})]})})}export{R as default};
